<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        #container{
            width: 400px;
            height: 500px;
            background: gray;
            position: relative;
            overflow: hidden; /* 溢出的地方隐藏！！*/
        }
        #content{
            width: 380px;
            position: absolute;
            top: 0;
            left: 0;
        }
        #scroll-bar{
            width: 20px;
            height: 500px;
            background: green;
            position: absolute;
            left: 380px;
            top: 0;
        }
        #scroll-btn{
            width: 20px;
            height: 20px;
            background: red;
            cursor: pointer;
            position: absolute;
            top: 0;
        }
    </style>
</head>
<body>
<div id="container">
    <div id="content">11啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊vv啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊
        啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊22
    </div>
    <div id="scroll-bar">
        <div id="scroll-btn"></div>
    </div>
</div>
<script>
    var oScrollBtn=document.getElementById("scroll-btn");
    var oScrollBar=document.getElementById("scroll-bar");
    var oContent=document.getElementById("content");
    var oContainer=document.getElementById("container");
    oScrollBtn.onmousedown=function(e){
        e=e||window.event;
        var iDisY= e.clientY-oScrollBtn.offsetTop;
        //console.log(top);
        document.onmousemove = function(e){
            e = e || window.event;
            var top = e.clientY - iDisY;
            if(top < 0){
                top = 0;
            }else if(top > oScrollBar.offsetHeight - oScrollBtn.offsetHeight){
                top = oScrollBar.offsetHeight - oScrollBtn.offsetHeight;
            }
            oScrollBtn.style.top = top + "px";
            var fScale = top/(oScrollBar.offsetHeight - oScrollBtn.offsetHeight);
            oContent.style.top = -(oContent.offsetHeight - oContainer.offsetHeight) * fScale + "px";
            //oContent.offsetHeight - oContainer.offsetHeight这行代码其实就是多出来内容的高度，其实要移动显示的就是这个高度，然后在乘上前面求出来的fScale的系数
            return false;
        }
        document.onmouseup = function(){
            document.onmousemove = null;
        };
      /*  document.onmousemove=function(e){
            e=e||window.event;
            oScrollBtn.style.top = e.clientY-iDisY+"px";

            if(oScrollBtn.style.top<0+"px"){
                oScrollBtn.style.top=0+"px";
            }
           // console.log(oScrollBtn.style.top);
            if(oScrollBtn.style.top>(oScrollBar.offsetHeight - oScrollBtn.offsetHeight)+"px"){  //这里的oScrollBtn.style.top职能赋值，不能取值，所以这么写是不对的。
                oScrollBtn.style.top=(oScrollBar.offsetHeight-oScrollBtn.offsetHeight)+"px";
            }//上面的代码可以执行，但是往下移动滚动条的时候，滚动条会快速的到最下面的地方。与fe9中的自定义滚动条的效果不同！！
           // oScrollBtn.style.top=e.clientY-iDisY+"px";
            var fScale=oScrollBtn.style.top/(oScrollBar.offsetHeight-oScrollBtn.offsetHeight);
            alert(fScale); not a number
            oContent.style.top = -(oContent.offsetHeight-oContainer.offsetHeight)*fScale;
            //为什么上面的代码不能使内容进行滚动？？
            return false;//为了解决什么问题来着？？
        };
        document.onmouseup=function(){    //为什么这里的oScrollBtn一定要改成docuemnt才会更好用？？？
            document.onmousemove=null;
        };*/
    };
</script>
</body>
</html>